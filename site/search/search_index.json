{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"LiveKit Agents API Documentation","text":"<p>Welcome to the documentation for the LiveKit Agents API. this project provides a robust backend for building voice and video AI agents using LiveKit.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Voice AI: Integrated with Cartesia and ElevenLabs for high-quality text-to-speech.</li> <li>LLM Support: Powered by OpenAI, Anthropic, and Groq.</li> <li>Tools Framework: Extend agent capabilities with custom Python functions.</li> <li>Session Management: Full persistence of chat history and state.</li> <li>Deployed Ready: Dockerized and ready for production.</li> </ul>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Getting Started: Installation and setup guide.</li> <li>Architecture: Understand how the system works.</li> <li>Tool Usage: Learn how to add capabilities to your agents.</li> <li>API Reference: Detailed API endpoints and schemas.</li> </ul>"},{"location":"architecture/","title":"System Architecture","text":"<p>The LiveKit Agents API consists of several key components working together to facilitate real-time AI conversations.</p>"},{"location":"architecture/#high-level-overview","title":"High-Level Overview","text":"<pre><code>graph TD\n    Client[Client App] --&gt;|Connect| LiveKit[LiveKit Server]\n    Client --&gt;|REST API| API[API Server (FastAPI)]\n\n    API --&gt;|Manage| DB[(MongoDB)]\n\n    Worker[Agent Worker] --&gt;|Connect| LiveKit\n    Worker --&gt;|Fetch Context| DB\n\n    LiveKit &lt;--&gt;|WebRTC| Client\n    LiveKit &lt;--&gt;|WebRTC| Worker\n</code></pre>"},{"location":"architecture/#components","title":"Components","text":""},{"location":"architecture/#1-api-server-server_runpy","title":"1. API Server (<code>server_run.py</code>)","text":"<ul> <li>Built with FastAPI.</li> <li>Manages sessions, users, and agent configurations.</li> <li>Exposes REST endpoints for creating tokens, managing assistants, and retrieving history.</li> <li>Stores state in MongoDB.</li> </ul>"},{"location":"architecture/#2-agent-worker-srcworkerpy","title":"2. Agent Worker (<code>src/worker.py</code>)","text":"<ul> <li>Runs the actual AI logic.</li> <li>Connects to LiveKit rooms as a participant.</li> <li>Listens to audio events, transcribes speech, generates responses (LLM), and synthesizes speech (TTS).</li> <li>Executes \"Tools\" (function calls) when requested by the LLM.</li> </ul>"},{"location":"architecture/#3-database-layer","title":"3. Database Layer","text":"<ul> <li>MongoDB: Stores:</li> <li><code>Sessions</code>: Metadata about active and past conversations.</li> <li><code>Assistants</code>: Configuration for different agent personas.</li> <li><code>Tools</code>: Definitions of available tools.</li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":""},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.10+ or Docker</li> <li>LiveKit Server (Cloud or Self-hosted)</li> <li>MongoDB (for session storage)</li> <li>API Keys for necessary services (OpenAI, Cartesia, etc.)</li> </ul>"},{"location":"getting-started/#installation","title":"Installation","text":""},{"location":"getting-started/#local-development","title":"Local Development","text":"<ol> <li>Clone the repository:</li> </ol> <pre><code>git clone https://github.com/ShubhamX-AI/api_livekit.git\ncd api_livekit\n</code></pre> <ol> <li>Install dependencies:    Using <code>uv</code> (recommended):</li> </ol> <pre><code>uv sync\n</code></pre> <p>Or standard pip:</p> <pre><code>pip install -r requirements.txt\n</code></pre> <ol> <li>Configure Environment:    Copy <code>.env.local</code> to <code>.env</code> and fill in your keys:</li> </ol> <pre><code>cp .env.local .env\n</code></pre> <ol> <li>Run the Server:</li> </ol> <pre><code>python server_run.py\n</code></pre>"},{"location":"getting-started/#docker-deployment","title":"Docker Deployment","text":"<ol> <li>Build and Run:</li> </ol> <pre><code>docker-compose up --build\n</code></pre>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<ul> <li>Explore the Architecture to understand the system.</li> <li>Check out Tool Usage to add functionality.</li> </ul>"},{"location":"api/assistant/","title":"Assistant Management","text":"<p>This section covers the management of AI assistants, including creation, updates, and deletion.</p>"},{"location":"api/assistant/#create-assistant","title":"Create Assistant","text":"<p>Create a new AI assistant configuration.</p> <ul> <li>URL: <code>/assistant/create</code></li> <li>Method: <code>POST</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/assistant/#request-body","title":"Request Body","text":"Field Type Required Description <code>assistant_name</code> string Yes The name of the assistant. <code>assistant_description</code> string Yes A description of the assistant. <code>assistant_prompt</code> string Yes The system prompt for the assistant. <code>assistant_tts_model</code> string Yes The TTS provider. One of <code>cartesia</code> or <code>sarvam</code>. <code>assistant_tts_config</code> object Yes The TTS configuration object (see below). <code>assistant_start_instruction</code> string No Instruction for the assistant to follow when the call starts. <code>assistant_end_call_url</code> string No URL to hit when the call ends."},{"location":"api/assistant/#tts-configuration","title":"TTS Configuration","text":"<p>Cartesia Configuration (<code>assistant_tts_model</code>: \"cartesia\")</p> Field Type Required Description <code>voice_id</code> string Yes The Cartesia voice ID (UUID). <p>Sarvam Configuration (<code>assistant_tts_model</code>: \"sarvam\")</p> Field Type Required Description <code>speaker</code> string Yes The Sarvam speaker identifier (e.g., \"meera\"). <code>target_language_code</code> string No BCP-47 language code (default \"bn-IN\")."},{"location":"api/assistant/#example","title":"Example","text":"<pre><code>curl -X POST \"http://localhost:8000/assistant/create\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"assistant_name\": \"Support Bot\",\n           \"assistant_description\": \"First line of support\",\n           \"assistant_prompt\": \"You are a helpful customer support agent.\",\n           \"assistant_tts_model\": \"cartesia\",\n           \"assistant_tts_config\": {\n             \"voice_id\": \"a167e0f3-df7e-4277-976b-be2f952fa275\"\n           }\n         }'\n</code></pre> <pre><code>{\n  \"success\": true,\n  \"message\": \"Assistant created successfully\",\n  \"data\": {\n    \"assistant_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n    \"assistant_name\": \"Support Bot\"\n  }\n}\n</code></pre>"},{"location":"api/assistant/#list-assistants","title":"List Assistants","text":"<p>List all active assistants created by the current user.</p> <ul> <li>URL: <code>/assistant/list</code></li> <li>Method: <code>GET</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> </ul>"},{"location":"api/assistant/#example_1","title":"Example","text":"<pre><code>curl -X GET \"http://localhost:8000/assistant/list\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\"\n</code></pre>"},{"location":"api/assistant/#get-assistant-details","title":"Get Assistant Details","text":"<p>Fetch detailed information about a specific assistant.</p> <ul> <li>URL: <code>/assistant/details/{assistant_id}</code></li> <li>Method: <code>GET</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> </ul>"},{"location":"api/assistant/#example_2","title":"Example","text":"<pre><code>curl -X GET \"http://localhost:8000/assistant/details/550e8400-e29b-41d4-a716-446655440000\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\"\n</code></pre>"},{"location":"api/assistant/#update-assistant","title":"Update Assistant","text":"<p>Update the configuration of an existing assistant.</p> <ul> <li>URL: <code>/assistant/update/{assistant_id}</code></li> <li>Method: <code>PATCH</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/assistant/#request-body_1","title":"Request Body","text":"<p>Only provide the fields you want to update. Fields are the same as in \"Create Assistant\". Note: If updating <code>assistant_tts_model</code> and <code>assistant_tts_config</code>, both should ideally be updated together to ensure consistency.</p>"},{"location":"api/assistant/#example_3","title":"Example","text":"<pre><code>curl -X PATCH \"http://localhost:8000/assistant/update/550e8400-e29b-41d4-a716-446655440000\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"assistant_name\": \"Updated Support Bot\",\n           \"assistant_tts_model\": \"sarvam\",\n           \"assistant_tts_config\": {\n             \"speaker\": \"meera\",\n             \"target_language_code\": \"hi-IN\"\n           }\n         }'\n</code></pre>"},{"location":"api/assistant/#delete-assistant","title":"Delete Assistant","text":"<p>Soft-delete an assistant.</p> <ul> <li>URL: <code>/assistant/delete/{assistant_id}</code></li> <li>Method: <code>DELETE</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> </ul>"},{"location":"api/assistant/#example_4","title":"Example","text":"<pre><code>curl -X DELETE \"http://localhost:8000/assistant/delete/550e8400-e29b-41d4-a716-446655440000\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\"\n</code></pre>"},{"location":"api/authentication/","title":"Authentication","text":"<p>This section covers the authentication endpoints for the LiveKit Agents API.</p>"},{"location":"api/authentication/#create-api-key","title":"Create API Key","text":"<p>Generate a new API key for a user.</p> <ul> <li>URL: <code>/auth/create-key</code></li> <li>Method: <code>POST</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/authentication/#request-body","title":"Request Body","text":"Field Type Required Description <code>user_name</code> string Yes The name of the user. <code>org_name</code> string No The name of the organization. <code>user_email</code> string Yes The email address of the user."},{"location":"api/authentication/#response","title":"Response","text":"<p>Returns the generated API key. Store this key securely as it cannot be retrieved later.</p>"},{"location":"api/authentication/#example","title":"Example","text":"<pre><code>curl -X POST \"http://localhost:8000/auth/create-key\" \\\n     -H \"Content-Type: application/json\" \\\n     -d '{\n           \"user_name\": \"John Doe\",\n           \"org_name\": \"Acme Corp\",\n           \"user_email\": \"john@example.com\"\n         }'\n</code></pre> <pre><code>{\n  \"success\": true,\n  \"message\": \"API key created successfully, Store it securely\",\n  \"data\": {\n    \"api_key\": \"lvk_...\",\n    \"user_name\": \"John Doe\",\n    \"org_name\": \"Acme Corp\",\n    \"user_email\": \"john@example.com\"\n  }\n}\n</code></pre>"},{"location":"api/authentication/#check-api-key","title":"Check API Key","text":"<p>Verify if an API key is valid and retrieve the associated user details.</p> <ul> <li>URL: <code>/auth/check-key</code></li> <li>Method: <code>GET</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> </ul>"},{"location":"api/authentication/#request-headers","title":"Request Headers","text":"Header Required Description <code>x-api-key</code> Yes The API key to verify."},{"location":"api/authentication/#response_1","title":"Response","text":"<p>Returns the user and organization details associated with the API key.</p>"},{"location":"api/authentication/#example_1","title":"Example","text":"<pre><code>curl -X GET \"http://localhost:8000/auth/check-key\" \\\n     -H \"x-api-key: lvk_...\"\n</code></pre> <pre><code>{\n  \"success\": true,\n  \"message\": \"API key is valid\",\n  \"data\": {\n    \"user_name\": \"John Doe\",\n    \"org_name\": \"Acme Corp\",\n    \"user_email\": \"john@example.com\",\n    \"created_at\": \"2023-10-27T10:00:00.000000\"\n  }\n}\n</code></pre>"},{"location":"api/calls/","title":"Outbound Calls","text":"<p>This section covers how to trigger outbound calls using your configured assistants and SIP trunks.</p>"},{"location":"api/calls/#trigger-outbound-call","title":"Trigger Outbound Call","text":"<p>Initiate a call from an assistant to a phone number.</p> <ul> <li>URL: <code>/call/outbound</code></li> <li>Method: <code>POST</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/calls/#request-body","title":"Request Body","text":"Field Type Required Description <code>assistant_id</code> string Yes The ID of the assistant to use. <code>trunk_id</code> string Yes The ID of the SIP trunk to use. <code>to_number</code> string Yes The phone number to call (E.164 format). <code>call_service</code> string Yes <code>twilio</code> (currently the only supported service). <code>metadata</code> object No Optional metadata to pass to the call session."},{"location":"api/calls/#example","title":"Example","text":"<pre><code>curl -X POST \"http://localhost:8000/call/outbound\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"assistant_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n           \"trunk_id\": \"ST_...\",\n           \"to_number\": \"+15550200000\",\n           \"call_service\": \"twilio\",\n           \"metadata\": {\n             \"campaign_id\": \"12345\"\n           }\n         }'\n</code></pre> <pre><code>{\n  \"success\": true,\n  \"message\": \"Outbound call triggered successfully\",\n  \"data\": {\n    \"room_name\": \"...\",\n    \"agent_dispatch\": {...},\n    \"participant\": {...}\n  }\n}\n</code></pre>"},{"location":"api/sip/","title":"SIP Trunk Management","text":"<p>This section covers the management of SIP trunks for outbound calling.</p>"},{"location":"api/sip/#create-outbound-trunk","title":"Create Outbound Trunk","text":"<p>Configure a SIP trunk for outbound calls.</p> <ul> <li>URL: <code>/sip/create-outbound-trunk</code></li> <li>Method: <code>POST</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/sip/#request-body","title":"Request Body","text":"Field Type Required Description <code>trunk_name</code> string Yes Name of the trunk. <code>trunk_address</code> string Yes SIP address/domain of the provider. <code>trunk_numbers</code> array Yes List of phone numbers associated with this trunk. <code>trunk_auth_username</code> string Yes SIP authentication username. <code>trunk_auth_password</code> string Yes SIP authentication password. <code>trunk_type</code> string Yes <code>twilio</code> (currently the only supported type)."},{"location":"api/sip/#example","title":"Example","text":"<pre><code>curl -X POST \"http://localhost:8000/sip/create-outbound-trunk\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"trunk_name\": \"Twilio Trunk\",\n           \"trunk_address\": \"example.pstn.twilio.com\",\n           \"trunk_numbers\": [\"+15550100000\"],\n           \"trunk_auth_username\": \"twilio_user\",\n           \"trunk_auth_password\": \"twilio_password\",\n           \"trunk_type\": \"twilio\"\n         }'\n</code></pre> <pre><code>{\n  \"success\": true,\n  \"message\": \"Outbound trunk created successfully, Store the trunk id securely.\",\n  \"data\": {\n    \"trunk_id\": \"ST_...\"\n  }\n}\n</code></pre>"},{"location":"api/sip/#list-sip-trunks","title":"List SIP Trunks","text":"<p>List all active SIP trunks created by the current user.</p> <ul> <li>URL: <code>/sip/list</code></li> <li>Method: <code>GET</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> </ul>"},{"location":"api/sip/#example_1","title":"Example","text":"<pre><code>curl -X GET \"http://localhost:8000/sip/list\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\"\n</code></pre>"},{"location":"api/tools/","title":"Tool Management","text":"<p>Tools allow your assistant to perform actions or fetch data. This section covers creating, updating, and managing tools.</p>"},{"location":"api/tools/#create-tool","title":"Create Tool","text":"<p>Define a new tool that can be used by your assistants.</p> <ul> <li>URL: <code>/tool/create</code></li> <li>Method: <code>POST</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/tools/#request-body","title":"Request Body","text":"Field Type Required Description <code>tool_name</code> string Yes Snake_case name (e.g., <code>lookup_weather</code>). <code>tool_description</code> string Yes Description for the LLM explaining what the tool does. <code>tool_parameters</code> array No List of parameters (see below). <code>tool_execution_type</code> string Yes <code>webhook</code> or <code>static_return</code>. <code>tool_execution_config</code> object Yes Config for execution (e.g., URL for webhook)."},{"location":"api/tools/#tool-parameter-schema","title":"Tool Parameter Schema","text":"Field Type Required Description <code>name</code> string Yes Parameter name. <code>type</code> string Yes <code>string</code>, <code>number</code>, <code>boolean</code>, <code>object</code>, or <code>array</code>. <code>description</code> string No Description for the LLM. <code>required</code> boolean No whether the parameter is mandatory (default <code>true</code>). <code>enum</code> array No Allowed values (for string types)."},{"location":"api/tools/#example","title":"Example","text":"<pre><code>curl -X POST \"http://localhost:8000/tool/create\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"tool_name\": \"get_weather\",\n           \"tool_description\": \"Get current weather for a location\",\n           \"tool_parameters\": [\n             {\n               \"name\": \"location\",\n               \"type\": \"string\",\n               \"description\": \"City and state, e.g. San Francisco, CA\",\n               \"required\": true\n             }\n           ],\n           \"tool_execution_type\": \"webhook\",\n           \"tool_execution_config\": {\n             \"url\": \"https://api.example.com/weather-webhook\"\n           }\n         }'\n</code></pre> <pre><code>{\n  \"success\": true,\n  \"message\": \"Tool created successfully\",\n  \"data\": {\n    \"tool_id\": \"880e8400-e29b-41d4-a716-446655449999\",\n    \"tool_name\": \"get_weather\"\n  }\n}\n</code></pre>"},{"location":"api/tools/#list-tools","title":"List Tools","text":"<p>List all active tools.</p> <ul> <li>URL: <code>/tool/list</code></li> <li>Method: <code>GET</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> </ul>"},{"location":"api/tools/#example_1","title":"Example","text":"<pre><code>curl -X GET \"http://localhost:8000/tool/list\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\"\n</code></pre>"},{"location":"api/tools/#get-tool-details","title":"Get Tool Details","text":"<p>Fetch details for a specific tool.</p> <ul> <li>URL: <code>/tool/details/{tool_id}</code></li> <li>Method: <code>GET</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> </ul>"},{"location":"api/tools/#example_2","title":"Example","text":"<pre><code>curl -X GET \"http://localhost:8000/tool/details/880e8400-e29b-41d4-a716-446655449999\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\"\n</code></pre>"},{"location":"api/tools/#update-tool","title":"Update Tool","text":"<p>Update an existing tool.</p> <ul> <li>URL: <code>/tool/update/{tool_id}</code></li> <li>Method: <code>PATCH</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/tools/#example_3","title":"Example","text":"<pre><code>curl -X PATCH \"http://localhost:8000/tool/update/880e8400-e29b-41d4-a716-446655449999\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"tool_description\": \"Updated description for weather tool\"\n         }'\n</code></pre>"},{"location":"api/tools/#delete-tool","title":"Delete Tool","text":"<p>Soft-delete a tool. This will also remove the tool from any assistants that are currently using it.</p> <ul> <li>URL: <code>/tool/delete/{tool_id}</code></li> <li>Method: <code>DELETE</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> </ul>"},{"location":"api/tools/#example_4","title":"Example","text":"<pre><code>curl -X DELETE \"http://localhost:8000/tool/delete/880e8400-e29b-41d4-a716-446655449999\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\"\n</code></pre>"},{"location":"api/tools/#attach-tools-to-assistant","title":"Attach Tools to Assistant","text":"<p>Enable a set of tools for a specific assistant.</p> <ul> <li>URL: <code>/tool/attach/{assistant_id}</code></li> <li>Method: <code>POST</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/tools/#request-body_1","title":"Request Body","text":"Field Type Required Description <code>tool_ids</code> array Yes List of tool IDs to attach."},{"location":"api/tools/#example_5","title":"Example","text":"<pre><code>curl -X POST \"http://localhost:8000/tool/attach/550e8400-e29b-41d4-a716-446655440000\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"tool_ids\": [\"880e8400-e29b-41d4-a716-446655449999\"]\n         }'\n</code></pre>"},{"location":"api/tools/#detach-tools-from-assistant","title":"Detach Tools from Assistant","text":"<p>Remove a set of tools from a specific assistant.</p> <ul> <li>URL: <code>/tool/detach/{assistant_id}</code></li> <li>Method: <code>POST</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/tools/#request-body_2","title":"Request Body","text":"Field Type Required Description <code>tool_ids</code> array Yes List of tool IDs to detach."},{"location":"api/tools/#example_6","title":"Example","text":"<pre><code>curl -X POST \"http://localhost:8000/tool/detach/550e8400-e29b-41d4-a716-446655440000\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"tool_ids\": [\"880e8400-e29b-41d4-a716-446655449999\"]\n         }'\n</code></pre>"}]}