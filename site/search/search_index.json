{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"LiveKit Agents API Documentation","text":""},{"location":"#build-real-time-voice-ai-agents-in-minutes","title":"Build Real-Time Voice AI Agents in Minutes","text":"<p>A production-ready backend for deploying AI-powered voice agents with LiveKit, OpenAI, and enterprise-grade telephony integration.</p> <p>Get Started View API Reference</p>"},{"location":"#architecture-overview","title":"Architecture Overview","text":"<pre><code>graph TD\n    Client[Client Application] --&gt;|REST API| API[API Server&lt;br/&gt;FastAPI]\n    Client --&gt;|WebSocket| LiveKit[LiveKit Server]\n\n    API --&gt;|CRUD| DB[(MongoDB)]\n\n    Worker[Agent Worker] --&gt;|Connect| LiveKit\n    Worker --&gt;|Fetch Config| DB\n    Worker --&gt;|STT/TTS| AI[OpenAI + TTS]\n\n    Worker --&gt;|Webhook| External[External Services]\n</code></pre> <p>For detailed architecture information, see the Architecture page.</p> <p>Ready to build? Start with the Getting Started guide </p>"},{"location":"architecture/","title":"System Architecture","text":"<p>The LiveKit Agents API consists of several key components working together to facilitate real-time AI conversations.</p>"},{"location":"architecture/#high-level-overview","title":"High-Level Overview","text":"<pre><code>graph TD\n    Client[Client App] --&gt;|Connect| LiveKit[LiveKit Server]\n    Client --&gt;|REST API| API[API Server (FastAPI)]\n\n    API --&gt;|Manage| DB[(MongoDB)]\n\n    Worker[Agent Worker] --&gt;|Connect| LiveKit\n    Worker --&gt;|Fetch Context| DB\n\n    LiveKit &lt;--&gt;|WebRTC| Client\n    LiveKit &lt;--&gt;|WebRTC| Worker\n</code></pre>"},{"location":"architecture/#components","title":"Components","text":""},{"location":"architecture/#1-api-server-server_runpy","title":"1. API Server (<code>server_run.py</code>)","text":"<ul> <li>Built with FastAPI.</li> <li>Manages sessions, users, and agent configurations.</li> <li>Exposes REST endpoints for creating tokens, managing assistants, and retrieving history.</li> <li>Stores state in MongoDB.</li> </ul>"},{"location":"architecture/#2-agent-worker-srcworkerpy","title":"2. Agent Worker (<code>src/worker.py</code>)","text":"<ul> <li>Runs the actual AI logic.</li> <li>Connects to LiveKit rooms as a participant.</li> <li>Listens to audio events, transcribes speech, generates responses (LLM), and synthesizes speech (TTS).</li> <li>Executes \"Tools\" (function calls) when requested by the LLM.</li> </ul>"},{"location":"architecture/#3-database-layer","title":"3. Database Layer","text":"<ul> <li>MongoDB: Stores:</li> <li><code>Sessions</code>: Metadata about active and past conversations.</li> <li><code>Assistants</code>: Configuration for different agent personas.</li> <li><code>Tools</code>: Definitions of available tools.</li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":""},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<ul> <li>Explore the Architecture to understand the system.</li> <li>Check out Tool Usage to add functionality.</li> </ul>"},{"location":"getting-started/#quick-start","title":"Quick Start","text":""},{"location":"getting-started/#1-create-your-first-api-key","title":"1. Create Your First API Key","text":"<pre><code>curl -X POST \"http://localhost:8000/auth/create-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"user_name\": \"Admin User\",\n    \"user_email\": \"admin@example.com\"\n  }'\n</code></pre>"},{"location":"getting-started/#2-create-an-assistant","title":"2. Create an Assistant","text":"<pre><code>curl -X POST \"http://localhost:8000/assistant/create\" \\\n  -H \"x-api-key: YOUR_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"assistant_name\": \"Support Bot\",\n    \"assistant_description\": \"Customer support agent\",\n    \"assistant_prompt\": \"You are a helpful support agent.\",\n    \"assistant_tts_model\": \"cartesia\",\n    \"assistant_tts_config\": {\n      \"voice_id\": \"a167e0f3-df7e-4277-976b-be2f952fa275\"\n    }\n  }'\n</code></pre>"},{"location":"getting-started/#3-create-a-sip-trunk","title":"3. Create a SIP Trunk","text":"<p>Before you can make calls, you need to configure a SIP trunk (e.g., Twilio).</p> <pre><code>curl -X POST \"http://localhost:8000/sip/create-outbound-trunk\" \\\n  -H \"x-api-key: YOUR_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"trunk_name\": \"My Twilio Trunk\",\n    \"trunk_address\": \"your-twilio-sip-domain.sip.twilio.com\",\n    \"trunk_numbers\": [\"+15550100000\"],\n    \"trunk_auth_username\": \"your_twilio_username\",\n    \"trunk_auth_password\": \"your_twilio_password\",\n    \"trunk_type\": \"twilio\"\n  }'\n</code></pre> <p>Note: Store the returned <code>trunk_id</code> for the next step.</p>"},{"location":"getting-started/#4-trigger-an-outbound-call","title":"4. Trigger an Outbound Call","text":"<pre><code>curl -X POST \"http://localhost:8000/call/outbound\" \\\n  -H \"x-api-key: YOUR_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"assistant_id\": \"ASSISTANT_ID\",\n    \"trunk_id\": \"TRUNK_ID\",\n    \"to_number\": \"+15550100000\",\n    \"call_service\": \"twilio\"\n  }'\n</code></pre>"},{"location":"api/assistant/","title":"Assistant Management","text":"<p>This section covers the management of AI assistants, including creation, updates, and deletion.</p>"},{"location":"api/assistant/#overview","title":"Overview","text":"<p>Assistants are AI agents configured with specific prompts, TTS (Text-to-Speech) settings, and capabilities. Each assistant can have tools attached to extend its functionality.</p>"},{"location":"api/assistant/#create-assistant","title":"Create Assistant","text":"<p>Create a new AI assistant configuration.</p> <ul> <li>URL: <code>/assistant/create</code></li> <li>Method: <code>POST</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/assistant/#request-body","title":"Request Body","text":"Field Type Required Description <code>assistant_name</code> string Yes The name of the assistant (1-100 characters). <code>assistant_description</code> string Yes A description of the assistant. <code>assistant_prompt</code> string Yes The system prompt that defines the assistant's behavior. <code>assistant_tts_model</code> string Yes The TTS provider. One of <code>cartesia</code> or <code>sarvam</code>. <code>assistant_tts_config</code> object Yes The TTS configuration object (see below). <code>assistant_start_instruction</code> string No Instruction for the assistant to speak when the call starts (max 200 characters). <code>assistant_end_call_url</code> string No URL to POST call details when the call ends."},{"location":"api/assistant/#tts-configuration","title":"TTS Configuration","text":"Cartesia ConfigurationSarvam Configuration <p>Use this when <code>assistant_tts_model</code> is set to <code>\"cartesia\"</code>.</p> Field Type Required Description <code>voice_id</code> string Yes The Cartesia voice ID (UUID format). <p>Use this when <code>assistant_tts_model</code> is set to <code>\"sarvam\"</code>.</p> Field Type Required Description <code>speaker</code> string Yes The Sarvam speaker identifier (e.g., \"meera\", \"arvind\"). <code>target_language_code</code> string No BCP-47 language code (default: \"bn-IN\")."},{"location":"api/assistant/#response-schema","title":"Response Schema","text":"Field Type Description <code>success</code> boolean Indicates if the operation was successful. <code>message</code> string Human-readable success message. <code>data</code> object Contains the created assistant details. <code>data.assistant_id</code> string Unique identifier for the assistant (UUID). <code>data.assistant_name</code> string The name of the assistant."},{"location":"api/assistant/#http-status-codes","title":"HTTP Status Codes","text":"Code Description 200 Success - Assistant created successfully. 400 Bad Request - Invalid input data or mismatched TTS configuration. 401 Unauthorized - Invalid or missing API key. 500 Server Error - Internal server error."},{"location":"api/assistant/#example-cartesia-tts","title":"Example: Cartesia TTS","text":"<pre><code>curl -X POST \"http://localhost:8000/assistant/create\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"assistant_name\": \"Support Bot\",\n           \"assistant_description\": \"First line of support\",\n           \"assistant_prompt\": \"You are a helpful customer support agent.\",\n           \"assistant_tts_model\": \"cartesia\",\n           \"assistant_tts_config\": {\n             \"voice_id\": \"a167e0f3-df7e-4277-976b-be2f952fa275\"\n           }\n         }'\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"Assistant created successfully\",\n  \"data\": {\n    \"assistant_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n    \"assistant_name\": \"Support Bot\"\n  }\n}\n</code></pre>"},{"location":"api/assistant/#example-sarvam-tts","title":"Example: Sarvam TTS","text":"<pre><code>curl -X POST \"http://localhost:8000/assistant/create\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"assistant_name\": \"Hindi Support\",\n           \"assistant_description\": \"Hindi speaking support agent\",\n           \"assistant_prompt\": \"You are a helpful assistant who speaks Hindi.\",\n           \"assistant_tts_model\": \"sarvam\",\n           \"assistant_tts_config\": {\n             \"speaker\": \"meera\",\n             \"target_language_code\": \"hi-IN\"\n           }\n         }'\n</code></pre>"},{"location":"api/assistant/#example-with-start-instruction","title":"Example: With Start Instruction","text":"<pre><code>curl -X POST \"http://localhost:8000/assistant/create\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"assistant_name\": \"Sales Agent\",\n           \"assistant_description\": \"Outbound sales representative\",\n           \"assistant_prompt\": \"You are a friendly sales agent.\",\n           \"assistant_tts_model\": \"cartesia\",\n           \"assistant_tts_config\": {\n             \"voice_id\": \"a167e0f3-df7e-4277-976b-be2f952fa275\"\n           },\n           \"assistant_start_instruction\": \"Hello! I'm calling from Acme Corp. How are you today?\",\n           \"assistant_end_call_url\": \"https://api.example.com/call-ended\"\n         }'\n</code></pre>"},{"location":"api/assistant/#list-assistants","title":"List Assistants","text":"<p>List all active assistants created by the current user.</p> <ul> <li>URL: <code>/assistant/list</code></li> <li>Method: <code>GET</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> </ul>"},{"location":"api/assistant/#response-schema_1","title":"Response Schema","text":"Field Type Description <code>success</code> boolean Indicates if the operation was successful. <code>message</code> string Human-readable success message. <code>data</code> array List of assistant objects. <code>data[].assistant_id</code> string Unique identifier for the assistant. <code>data[].assistant_name</code> string The name of the assistant. <code>data[].assistant_tts_model</code> string The TTS provider used. <code>data[].assistant_created_by_email</code> string Email of the user who created the assistant. <code>data[].assistant_created_at</code> string ISO 8601 timestamp of creation."},{"location":"api/assistant/#http-status-codes_1","title":"HTTP Status Codes","text":"Code Description 200 Success - List retrieved successfully. 401 Unauthorized - Invalid or missing API key. 500 Server Error - Internal server error."},{"location":"api/assistant/#example-request","title":"Example Request","text":"<pre><code>curl -X GET \"http://localhost:8000/assistant/list\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"Assistants retrieved successfully\",\n  \"data\": [\n    {\n      \"assistant_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n      \"assistant_name\": \"Support Bot\",\n      \"assistant_tts_model\": \"cartesia\",\n      \"assistant_created_by_email\": \"admin@example.com\",\n      \"assistant_created_at\": \"2024-01-15T10:00:00.000000\"\n    }\n  ]\n}\n</code></pre>"},{"location":"api/assistant/#get-assistant-details","title":"Get Assistant Details","text":"<p>Fetch detailed information about a specific assistant.</p> <ul> <li>URL: <code>/assistant/details/{assistant_id}</code></li> <li>Method: <code>GET</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> </ul>"},{"location":"api/assistant/#path-parameters","title":"Path Parameters","text":"Parameter Type Description <code>assistant_id</code> string The UUID of the assistant."},{"location":"api/assistant/#response-schema_2","title":"Response Schema","text":"Field Type Description <code>success</code> boolean Indicates if the operation was successful. <code>message</code> string Human-readable success message. <code>data</code> object Complete assistant configuration. <code>data.assistant_id</code> string Unique identifier for the assistant. <code>data.assistant_name</code> string The name of the assistant. <code>data.assistant_description</code> string The description of the assistant. <code>data.assistant_prompt</code> string The system prompt. <code>data.assistant_tts_model</code> string The TTS provider. <code>data.assistant_tts_config</code> object The TTS configuration object. <code>data.assistant_start_instruction</code> string The start instruction (if set). <code>data.assistant_end_call_url</code> string The webhook URL (if set). <code>data.tool_ids</code> array List of attached tool IDs. <code>data.assistant_created_at</code> string ISO 8601 timestamp of creation. <code>data.assistant_updated_at</code> string ISO 8601 timestamp of last update."},{"location":"api/assistant/#http-status-codes_2","title":"HTTP Status Codes","text":"Code Description 200 Success - Assistant details retrieved. 401 Unauthorized - Invalid or missing API key. 404 Not Found - Assistant does not exist or is inactive. 500 Server Error - Internal server error."},{"location":"api/assistant/#example-request_1","title":"Example Request","text":"<pre><code>curl -X GET \"http://localhost:8000/assistant/details/550e8400-e29b-41d4-a716-446655440000\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"Assistant details retrieved successfully\",\n  \"data\": {\n    \"assistant_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n    \"assistant_name\": \"Support Bot\",\n    \"assistant_description\": \"First line of support\",\n    \"assistant_prompt\": \"You are a helpful customer support agent.\",\n    \"assistant_tts_model\": \"cartesia\",\n    \"assistant_tts_config\": {\n      \"voice_id\": \"a167e0f3-df7e-4277-976b-be2f952fa275\"\n    },\n    \"assistant_start_instruction\": null,\n    \"assistant_end_call_url\": null,\n    \"tool_ids\": [],\n    \"assistant_created_at\": \"2024-01-15T10:00:00.000000\",\n    \"assistant_updated_at\": \"2024-01-15T10:00:00.000000\"\n  }\n}\n</code></pre>"},{"location":"api/assistant/#update-assistant","title":"Update Assistant","text":"<p>Update the configuration of an existing assistant.</p> <ul> <li>URL: <code>/assistant/update/{assistant_id}</code></li> <li>Method: <code>PATCH</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/assistant/#path-parameters_1","title":"Path Parameters","text":"Parameter Type Description <code>assistant_id</code> string The UUID of the assistant to update."},{"location":"api/assistant/#request-body_1","title":"Request Body","text":"<p>Only provide the fields you want to update. All fields are optional.</p> <p>Important</p> <p>If updating <code>assistant_tts_model</code> and <code>assistant_tts_config</code>, both should be updated together to ensure consistency.</p> Field Type Description <code>assistant_name</code> string The new name of the assistant (1-100 characters). <code>assistant_description</code> string The new description. <code>assistant_prompt</code> string The new system prompt. <code>assistant_tts_model</code> string The new TTS provider (<code>cartesia</code> or <code>sarvam</code>). <code>assistant_tts_config</code> object The new TTS configuration object. <code>assistant_start_instruction</code> string The new start instruction. <code>assistant_end_call_url</code> string The new webhook URL."},{"location":"api/assistant/#response-schema_3","title":"Response Schema","text":"Field Type Description <code>success</code> boolean Indicates if the operation was successful. <code>message</code> string Human-readable success message. <code>data</code> object Contains the updated assistant ID. <code>data.assistant_id</code> string The ID of the updated assistant."},{"location":"api/assistant/#http-status-codes_3","title":"HTTP Status Codes","text":"Code Description 200 Success - Assistant updated successfully. 400 Bad Request - Invalid input data. 401 Unauthorized - Invalid or missing API key. 404 Not Found - Assistant does not exist. 500 Server Error - Internal server error."},{"location":"api/assistant/#example-update-tts-configuration","title":"Example: Update TTS Configuration","text":"<pre><code>curl -X PATCH \"http://localhost:8000/assistant/update/550e8400-e29b-41d4-a716-446655440000\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"assistant_name\": \"Updated Support Bot\",\n           \"assistant_tts_model\": \"sarvam\",\n           \"assistant_tts_config\": {\n             \"speaker\": \"meera\",\n             \"target_language_code\": \"hi-IN\"\n           }\n         }'\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"Assistant updated successfully\",\n  \"data\": {\n    \"assistant_id\": \"550e8400-e29b-41d4-a716-446655440000\"\n  }\n}\n</code></pre>"},{"location":"api/assistant/#delete-assistant","title":"Delete Assistant","text":"<p>Soft-delete an assistant. Deleted assistants are not permanently removed but marked as inactive.</p> <ul> <li>URL: <code>/assistant/delete/{assistant_id}</code></li> <li>Method: <code>DELETE</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> </ul>"},{"location":"api/assistant/#path-parameters_2","title":"Path Parameters","text":"Parameter Type Description <code>assistant_id</code> string The UUID of the assistant to delete."},{"location":"api/assistant/#response-schema_4","title":"Response Schema","text":"Field Type Description <code>success</code> boolean Indicates if the operation was successful. <code>message</code> string Human-readable success message. <code>data</code> object Contains the deleted assistant ID. <code>data.assistant_id</code> string The ID of the deleted assistant."},{"location":"api/assistant/#http-status-codes_4","title":"HTTP Status Codes","text":"Code Description 200 Success - Assistant deleted successfully. 401 Unauthorized - Invalid or missing API key. 404 Not Found - Assistant does not exist or is already inactive. 500 Server Error - Internal server error."},{"location":"api/assistant/#example-request_2","title":"Example Request","text":"<pre><code>curl -X DELETE \"http://localhost:8000/assistant/delete/550e8400-e29b-41d4-a716-446655440000\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"Assistant deleted successfully\",\n  \"data\": {\n    \"assistant_id\": \"550e8400-e29b-41d4-a716-446655440000\"\n  }\n}\n</code></pre>"},{"location":"api/assistant/#using-placeholders","title":"Using Placeholders","text":"<p>Both <code>assistant_prompt</code> and <code>assistant_start_instruction</code> support dynamic placeholders that are replaced at call time using the <code>metadata</code> field in the outbound call request.</p>"},{"location":"api/assistant/#syntax","title":"Syntax","text":"<p>Use <code>{{key}}</code> syntax to define placeholders:</p> <pre><code>{\n  \"assistant_prompt\": \"Hello {{name}}, you are calling from {{company}}. How can I help?\",\n  \"assistant_start_instruction\": \"Hi {{name}}, this is {{agent_name}} from {{company}}.\"\n}\n</code></pre>"},{"location":"api/assistant/#triggering-with-metadata","title":"Triggering with Metadata","text":"<p>When triggering an outbound call, provide the values:</p> <pre><code>curl -X POST \"http://localhost:8000/call/outbound\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -H \"Content-Type: application/json\" \\\n     -d '{\n           \"assistant_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n           \"trunk_id\": \"ST_...\",\n           \"to_number\": \"+15550200000\",\n           \"call_service\": \"twilio\",\n           \"metadata\": {\n             \"name\": \"John Doe\",\n             \"company\": \"Acme Corp\",\n             \"agent_name\": \"Sarah\"\n           }\n         }'\n</code></pre> <p>Best Practice</p> <p>Always provide default values in your prompts for cases where metadata might be missing: <pre><code>{\n  \"assistant_prompt\": \"Hello {{name|there}}, welcome to {{company|our service}}!\"\n}\n</code></pre></p>"},{"location":"api/authentication/","title":"Authentication","text":"<p>This section covers the authentication endpoints for the LiveKit Agents API.</p>"},{"location":"api/authentication/#overview","title":"Overview","text":"<p>All API endpoints (except creating an API key) require authentication via the <code>x-api-key</code> header. API keys are scoped to individual users and provide access to all resources created by that user.</p>"},{"location":"api/authentication/#create-api-key","title":"Create API Key","text":"<p>Generate a new API key for a user. This endpoint does not require authentication and is typically used for initial setup.</p> <ul> <li>URL: <code>/auth/create-key</code></li> <li>Method: <code>POST</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/authentication/#request-body","title":"Request Body","text":"Field Type Required Description <code>user_name</code> string Yes The name of the user (1-100 characters). <code>user_email</code> string Yes The email address of the user. <code>org_name</code> string No The name of the organization (max 100 characters)."},{"location":"api/authentication/#response-schema","title":"Response Schema","text":"Field Type Description <code>success</code> boolean Indicates if the operation was successful. <code>message</code> string Human-readable success message. <code>data</code> object Contains the API key details. <code>data.api_key</code> string The generated API key. Store this securely - it cannot be retrieved later. <code>data.user_name</code> string The user's name. <code>data.org_name</code> string The organization name (if provided). <code>data.user_email</code> string The user's email address."},{"location":"api/authentication/#http-status-codes","title":"HTTP Status Codes","text":"Code Description 200 Success - API key created successfully. 400 Bad Request - Invalid input data (missing required fields, invalid email). 500 Server Error - Internal server error during key creation."},{"location":"api/authentication/#example-request","title":"Example Request","text":"<pre><code>curl -X POST \"http://localhost:8000/auth/create-key\" \\\n     -H \"Content-Type: application/json\" \\\n     -d '{\n           \"user_name\": \"John Doe\",\n           \"org_name\": \"Acme Corp\",\n           \"user_email\": \"john@example.com\"\n         }'\n</code></pre>"},{"location":"api/authentication/#example-response-200-ok","title":"Example Response (200 OK)","text":"<pre><code>{\n  \"success\": true,\n  \"message\": \"API key created successfully, Store it securely\",\n  \"data\": {\n    \"api_key\": \"lvk_a1b2c3d4e5f6...\",\n    \"user_name\": \"John Doe\",\n    \"org_name\": \"Acme Corp\",\n    \"user_email\": \"john@example.com\"\n  }\n}\n</code></pre>"},{"location":"api/authentication/#example-error-response-400-bad-request","title":"Example Error Response (400 Bad Request)","text":"<pre><code>{\n  \"success\": false,\n  \"message\": \"Invalid email address\",\n  \"data\": null\n}\n</code></pre>"},{"location":"api/authentication/#check-api-key","title":"Check API Key","text":"<p>Verify if an API key is valid and retrieve the associated user details.</p> <ul> <li>URL: <code>/auth/check-key</code></li> <li>Method: <code>GET</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> </ul>"},{"location":"api/authentication/#request-headers","title":"Request Headers","text":"Header Required Description <code>x-api-key</code> Yes The API key to verify."},{"location":"api/authentication/#response-schema_1","title":"Response Schema","text":"Field Type Description <code>success</code> boolean Indicates if the operation was successful. <code>message</code> string Human-readable status message. <code>data</code> object Contains user details if key is valid. <code>data.user_name</code> string The user's name. <code>data.org_name</code> string The organization name (if set). <code>data.user_email</code> string The user's email address. <code>data.created_at</code> string ISO 8601 timestamp of when the key was created."},{"location":"api/authentication/#http-status-codes_1","title":"HTTP Status Codes","text":"Code Description 200 Success - API key is valid. 401 Unauthorized - Invalid or missing API key. 500 Server Error - Internal server error during validation."},{"location":"api/authentication/#example-request_1","title":"Example Request","text":"<pre><code>curl -X GET \"http://localhost:8000/auth/check-key\" \\\n     -H \"x-api-key: lvk_a1b2c3d4e5f6...\"\n</code></pre>"},{"location":"api/authentication/#example-response-200-ok_1","title":"Example Response (200 OK)","text":"<pre><code>{\n  \"success\": true,\n  \"message\": \"API key is valid\",\n  \"data\": {\n    \"user_name\": \"John Doe\",\n    \"org_name\": \"Acme Corp\",\n    \"user_email\": \"john@example.com\",\n    \"created_at\": \"2024-01-15T10:00:00.000000\"\n  }\n}\n</code></pre>"},{"location":"api/authentication/#example-error-response-401-unauthorized","title":"Example Error Response (401 Unauthorized)","text":"<pre><code>{\n  \"success\": false,\n  \"message\": \"Invalid API key\",\n  \"data\": null\n}\n</code></pre>"},{"location":"api/authentication/#security-best-practices","title":"Security Best Practices","text":"<p>Important</p> <ul> <li>Store API keys securely - never commit them to version control</li> <li>Rotate keys regularly - create new keys and deprecate old ones</li> <li>Use environment variables - never hardcode keys in your application</li> <li>Monitor usage - check the <code>created_at</code> timestamp to track key age</li> </ul>"},{"location":"api/authentication/#example-using-environment-variables","title":"Example: Using Environment Variables","text":"<pre><code>import os\nimport requests\n\n# Load API key from environment\nAPI_KEY = os.getenv(\"LIVEKIT_API_KEY\")\nif not API_KEY:\n    raise ValueError(\"LIVEKIT_API_KEY environment variable not set\")\n\n# Use in requests\nheaders = {\"x-api-key\": API_KEY}\nresponse = requests.get(\"http://localhost:8000/assistant/list\", headers=headers)\n</code></pre>"},{"location":"api/authentication/#next-steps","title":"Next Steps","text":"<p>Once you have your API key, you can:</p> <ol> <li>Create an Assistant - Configure your AI agent</li> <li>Set up Tools - Add custom capabilities</li> <li>Configure SIP Trunks - Enable telephony</li> <li>Make Outbound Calls - Start voice conversations</li> </ol>"},{"location":"api/calls/","title":"Outbound Calls","text":"<p>This section covers how to trigger outbound calls using your configured assistants and SIP trunks.</p>"},{"location":"api/calls/#overview","title":"Overview","text":"<p>Outbound calls allow your AI assistants to call phone numbers. When triggered, the system initiates a call via your configured SIP trunk and connects the AI assistant to the recipient.</p>"},{"location":"api/calls/#trigger-outbound-call","title":"Trigger Outbound Call","text":"<p>Initiate a call from an assistant to a phone number.</p> <ul> <li>URL: <code>/call/outbound</code></li> <li>Method: <code>POST</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/calls/#request-body","title":"Request Body","text":"Field Type Required Description <code>assistant_id</code> string Yes The ID of the assistant to use (UUID format). <code>trunk_id</code> string Yes The ID of the SIP trunk to use (format: <code>ST_...</code>). <code>to_number</code> string Yes The phone number to call in E.164 format (e.g., <code>+15550100000</code>). <code>call_service</code> string Yes The telephony provider. One of: <code>twilio</code>, <code>exotel</code>. <code>metadata</code> object No Optional metadata to pass to the call session. Used for placeholder replacement in prompts."},{"location":"api/calls/#metadata-and-placeholders","title":"Metadata and Placeholders","text":"<p>The <code>metadata</code> object can contain any key-value pairs. These values are used to replace placeholders in the assistant's prompt and start instruction.</p> <p>Example:</p> <p>If your assistant has: <pre><code>{\n  \"assistant_prompt\": \"Hello {{name}}, you're calling from {{company}}.\",\n  \"assistant_start_instruction\": \"Hi {{name}}, this is {{agent_name}} speaking.\"\n}\n</code></pre></p> <p>Then your metadata should be: <pre><code>{\n  \"metadata\": {\n    \"name\": \"John Doe\",\n    \"company\": \"Acme Corp\",\n    \"agent_name\": \"Sarah\"\n  }\n}\n</code></pre></p>"},{"location":"api/calls/#response-schema","title":"Response Schema","text":"Field Type Description <code>success</code> boolean Indicates if the operation was successful. <code>message</code> string Human-readable success message. <code>data</code> object Contains call initiation details. <code>data.room_name</code> string The LiveKit room name for this call. <code>data.agent_dispatch</code> object LiveKit agent dispatch details. <code>data.participant</code> object LiveKit participant details."},{"location":"api/calls/#http-status-codes","title":"HTTP Status Codes","text":"Code Description 200 Success - Call triggered successfully. 400 Bad Request - Invalid input data or missing required fields. 401 Unauthorized - Invalid or missing API key. 404 Not Found - Assistant or trunk not found. 500 Server Error - Internal server error during call initiation."},{"location":"api/calls/#example-basic-outbound-call","title":"Example: Basic Outbound Call","text":"<pre><code>curl -X POST \"http://localhost:8000/call/outbound\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"assistant_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n           \"trunk_id\": \"ST_a1b2c3d4e5f6...\",\n           \"to_number\": \"+15550200000\",\n           \"call_service\": \"twilio\"\n         }'\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"Outbound call triggered successfully\",\n  \"data\": {\n    \"room_name\": \"550e8400-e29b-41d4-a716-446655440000_abc123\",\n    \"agent_dispatch\": {\n      \"id\": \"agent_123\",\n      \"state\": \"JOINING\"\n    },\n    \"participant\": {\n      \"sid\": \"PA_xxx\",\n      \"identity\": \"phone-+15550200000\"\n    }\n  }\n}\n</code></pre>"},{"location":"api/calls/#example-with-metadata","title":"Example: With Metadata","text":"<pre><code>curl -X POST \"http://localhost:8000/call/outbound\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"assistant_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n           \"trunk_id\": \"ST_a1b2c3d4e5f6...\",\n           \"to_number\": \"+15550200000\",\n           \"call_service\": \"twilio\",\n           \"metadata\": {\n             \"name\": \"John Doe\",\n             \"customer_id\": \"12345\",\n             \"campaign_id\": \"summer_sale_2024\"\n           }\n         }'\n</code></pre>"},{"location":"api/calls/#call-flow","title":"Call Flow","text":"<p>When you trigger an outbound call, the following happens:</p> <ol> <li>Validation: System validates the assistant, trunk, and phone number</li> <li>Room Creation: A LiveKit room is created with a unique name</li> <li>Call Initiation: The call is initiated via your SIP trunk provider</li> <li>Agent Connection: The AI assistant joins the room</li> <li>Conversation: The assistant speaks and listens according to its configuration</li> <li>Call End: When the user hangs up or the assistant ends the call</li> <li>Webhook: If configured, a POST request is sent to <code>assistant_end_call_url</code></li> <li>Recording: Call recording is saved to AWS S3 (if configured)</li> <li>Transcript: Conversation transcript is saved to MongoDB</li> </ol> <pre><code>sequenceDiagram\n    participant User\n    participant API\n    participant LiveKit\n    participant Provider as SIP Provider\n    participant Phone\n\n    User-&gt;&gt;API: POST /call/outbound\n    API-&gt;&gt;API: Validate assistant &amp; trunk\n    API-&gt;&gt;LiveKit: Create room\n    API-&gt;&gt;Provider: Initiate call\n    Provider-&gt;&gt;Phone: Ring\n    Phone--&gt;&gt;Provider: Answer\n    Provider--&gt;&gt;LiveKit: Connect\n    LiveKit-&gt;&gt;LiveKit: AI Agent joins\n    LiveKit-&gt;&gt;Phone: Assistant speaks\n    Phone-&gt;&gt;LiveKit: User responds\n    Phone-&gt;&gt;Provider: Hang up\n    Provider--&gt;&gt;LiveKit: Disconnect\n    LiveKit--&gt;&gt;API: Call ended\n    API-&gt;&gt;API: Save recording &amp; transcript\n    API-&gt;&gt;API: Send webhook (if configured)\n    API--&gt;&gt;User: Call complete\n</code></pre>"},{"location":"api/calls/#end-call-webhook","title":"End Call Webhook","text":"<p>If the assistant has <code>assistant_end_call_url</code> configured, a POST request is sent when the call ends.</p>"},{"location":"api/calls/#webhook-request","title":"Webhook Request","text":"<pre><code>POST /your-webhook-endpoint HTTP/1.1\nContent-Type: application/json\n\n{\n  \"success\": true,\n  \"message\": \"Call details fetched successfully\",\n  \"data\": {\n    \"room_name\": \"550e8400-e29b-41d4-a716-446655440000_abc123\",\n    \"assistant_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n    \"assistant_name\": \"Support Agent\",\n    \"to_number\": \"+15550200000\",\n    \"from_number\": \"+15550100000\",\n    \"recording_path\": \"https://your-bucket.s3.us-east-1.amazonaws.com/recordings/call_abc123.ogg\",\n    \"transcripts\": [\n      {\n        \"speaker\": \"agent\",\n        \"text\": \"Hello John, how can I help you today?\",\n        \"timestamp\": \"2024-01-15T10:00:01.000Z\"\n      },\n      {\n        \"speaker\": \"user\",\n        \"text\": \"I need help with my order.\",\n        \"timestamp\": \"2024-01-15T10:00:05.000Z\"\n      },\n      {\n        \"speaker\": \"agent\",\n        \"text\": \"I'd be happy to help. What's your order number?\",\n        \"timestamp\": \"2024-01-15T10:00:08.000Z\"\n      }\n    ],\n    \"started_at\": \"2024-01-15T10:00:00.000Z\",\n    \"ended_at\": \"2024-01-15T10:05:30.000Z\",\n    \"call_duration_minutes\": 5.5,\n    \"metadata\": {\n      \"name\": \"John Doe\",\n      \"customer_id\": \"12345\"\n    }\n  }\n}\n</code></pre>"},{"location":"api/calls/#webhook-payload-schema","title":"Webhook Payload Schema","text":"Field Type Description <code>success</code> boolean Always <code>true</code> for webhook notifications. <code>message</code> string Status message. <code>data</code> object Complete call details. <code>data.room_name</code> string The LiveKit room name. <code>data.assistant_id</code> string ID of the assistant used. <code>data.assistant_name</code> string Name of the assistant. <code>data.to_number</code> string Phone number that was called. <code>data.from_number</code> string Caller ID used (if available). <code>data.recording_path</code> string S3 URL of the call recording (if enabled). <code>data.transcripts</code> array List of conversation messages. <code>data.transcripts[].speaker</code> string Who spoke (<code>agent</code> or <code>user</code>). <code>data.transcripts[].text</code> string The transcribed text. <code>data.transcripts[].timestamp</code> string ISO 8601 timestamp. <code>data.started_at</code> string Call start time (ISO 8601). <code>data.ended_at</code> string Call end time (ISO 8601). <code>data.call_duration_minutes</code> number Total call duration in minutes. <code>data.metadata</code> object Metadata passed during call initiation."},{"location":"api/calls/#webhook-response","title":"Webhook Response","text":"<p>Your webhook endpoint should return a <code>200 OK</code> response. The response body is not processed.</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\"received\": true}\n</code></pre> <p>Important</p> <ul> <li>Webhooks are sent after the call ends and recording/transcript are saved</li> <li>If the webhook fails (non-2xx response), the system will retry up to 3 times</li> <li>Ensure your webhook endpoint responds quickly (&lt; 5 seconds)</li> <li>Store the <code>room_name</code> to correlate with call initiation</li> </ul>"},{"location":"api/calls/#call-status-tracking","title":"Call Status Tracking","text":"<p>The <code>room_name</code> returned in the response is your unique identifier for the call. You can use this to:</p> <ol> <li>Query call details from your database (if you store them)</li> <li>Correlate webhook notifications with the original call</li> <li>Monitor active calls via LiveKit APIs</li> </ol>"},{"location":"api/calls/#room-name-format","title":"Room Name Format","text":"<pre><code>{assistant_id}_{unique_suffix}\n</code></pre> <p>Example: <code>550e8400-e29b-41d4-a716-446655440000_abc123def456</code></p>"},{"location":"api/calls/#best-practices","title":"Best Practices","text":""},{"location":"api/calls/#phone-number-formatting","title":"Phone Number Formatting","text":"<p>Always use E.164 format: - \u2705 <code>+15550100000</code> (US number) - \u2705 <code>+911234567890</code> (India number) - \u274c <code>555-010-0000</code> (missing country code) - \u274c <code>(555) 010-0000</code> (parentheses and spaces)</p>"},{"location":"api/calls/#rate-limiting","title":"Rate Limiting","text":"<p>Be aware of your SIP provider's rate limits: - Twilio: Varies by account type - Exotel: Check your plan limits</p>"},{"location":"api/calls/#metadata-usage","title":"Metadata Usage","text":"<p>Use metadata for: - Customer identification - Campaign tracking - Context for the assistant - Post-call analytics</p>"},{"location":"api/calls/#error-handling","title":"Error Handling","text":"<p>Common errors and how to handle them:</p> Error Cause Solution <code>400</code> Invalid number Wrong format Ensure E.164 format <code>404</code> Assistant not found Wrong ID Verify assistant exists and is active <code>404</code> Trunk not found Wrong ID Verify trunk exists and belongs to user <code>500</code> Provider error SIP provider issue Check provider status and credentials"},{"location":"api/calls/#next-steps","title":"Next Steps","text":"<p>After triggering a call:</p> <ol> <li>Store the room_name for future reference</li> <li>Listen for webhook at your configured endpoint (if set)</li> <li>Check call recording in your S3 bucket (if enabled)</li> <li>Analyze transcripts for quality assurance</li> </ol>"},{"location":"api/errors/","title":"API Errors","text":"<p>This section documents all HTTP status codes and error responses from the API.</p>"},{"location":"api/errors/#response-structure","title":"Response Structure","text":"<p>All API responses follow a consistent structure:</p> <pre><code>{\n  \"success\": boolean,\n  \"message\": string,\n  \"data\": object | array | null\n}\n</code></pre> <ul> <li><code>success</code>: <code>true</code> for successful operations, <code>false</code> for errors</li> <li><code>message</code>: Human-readable description of the result</li> <li><code>data</code>: Contains response payload on success, <code>null</code> on error</li> </ul>"},{"location":"api/errors/#http-status-codes","title":"HTTP Status Codes","text":""},{"location":"api/errors/#2xx-success-codes","title":"2xx Success Codes","text":"Code Name Description <code>200</code> OK The request was successful. <code>201</code> Created A new resource was created successfully (also returns <code>200</code>)."},{"location":"api/errors/#4xx-client-errors","title":"4xx Client Errors","text":"Code Name Description <code>400</code> Bad Request Invalid request format or missing required fields. <code>401</code> Unauthorized Invalid or missing API key. <code>404</code> Not Found Resource does not exist or is inactive. <code>422</code> Unprocessable Entity Validation error in request data (handled as <code>400</code>)."},{"location":"api/errors/#5xx-server-errors","title":"5xx Server Errors","text":"Code Name Description <code>500</code> Internal Server Error Unexpected server error occurred. <code>502</code> Bad Gateway Upstream service (LiveKit, MongoDB) unavailable. <code>503</code> Service Unavailable Temporary overload or maintenance."},{"location":"api/sip/","title":"SIP Trunk Management","text":"<p>This section covers the management of SIP trunks for outbound calling.</p>"},{"location":"api/sip/#overview","title":"Overview","text":"<p>SIP trunks connect your LiveKit agents to telephony providers (Twilio, Exotel), enabling outbound calls to phone numbers. Each trunk contains authentication credentials and configuration for a specific provider.</p>"},{"location":"api/sip/#create-outbound-trunk","title":"Create Outbound Trunk","text":"<p>Configure a SIP trunk for outbound calls.</p> <ul> <li>URL: <code>/sip/create-outbound-trunk</code></li> <li>Method: <code>POST</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/sip/#request-body","title":"Request Body","text":"Field Type Required Description <code>trunk_name</code> string Yes Name of the trunk (1-100 characters). <code>trunk_address</code> string Yes SIP address/domain of the provider. <code>trunk_numbers</code> array Yes List of phone numbers associated with this trunk (E.164 format). <code>trunk_auth_username</code> string Yes SIP authentication username. <code>trunk_auth_password</code> string Yes SIP authentication password. <code>trunk_type</code> string Yes Provider type. One of: <code>twilio</code>, <code>exotel</code>."},{"location":"api/sip/#trunk-type-details","title":"Trunk Type Details","text":"TwilioExotel Field Example Value Description <code>trunk_address</code> <code>example.pstn.twilio.com</code> Your Twilio SIP domain <code>trunk_auth_username</code> <code>ACxxxxx...</code> Twilio Account SID <code>trunk_auth_password</code> <code>your_auth_token</code> Twilio Auth Token <code>trunk_numbers</code> <code>[\"+15550100000\"]</code> Verified caller IDs Field Example Value Description <code>trunk_address</code> <code>sip.exotel.com</code> Exotel SIP endpoint <code>trunk_auth_username</code> <code>your_exotel_sid</code> Exotel SID <code>trunk_auth_password</code> <code>your_token</code> Exotel Token <code>trunk_numbers</code> <code>[\"+911234567890\"]</code> Exotel phone numbers"},{"location":"api/sip/#response-schema","title":"Response Schema","text":"Field Type Description <code>success</code> boolean Indicates if the operation was successful. <code>message</code> string Human-readable success message. <code>data</code> object Contains the trunk details. <code>data.trunk_id</code> string Unique identifier for the trunk (format: <code>ST_...</code>)."},{"location":"api/sip/#http-status-codes","title":"HTTP Status Codes","text":"Code Description 200 Success - Trunk created successfully. 400 Bad Request - Invalid input data. 401 Unauthorized - Invalid or missing API key. 500 Server Error - Internal server error during trunk creation."},{"location":"api/sip/#example-twilio-trunk","title":"Example: Twilio Trunk","text":"<pre><code>curl -X POST \"http://localhost:8000/sip/create-outbound-trunk\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"trunk_name\": \"Twilio Production\",\n           \"trunk_address\": \"example.pstn.twilio.com\",\n           \"trunk_numbers\": [\"+15550100000\", \"+15550100001\"],\n           \"trunk_auth_username\": \"ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\",\n           \"trunk_auth_password\": \"your_auth_token_here\",\n           \"trunk_type\": \"twilio\"\n         }'\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"Outbound trunk created successfully, Store the trunk id securely.\",\n  \"data\": {\n    \"trunk_id\": \"ST_a1b2c3d4e5f6...\"\n  }\n}\n</code></pre>"},{"location":"api/sip/#example-exotel-trunk","title":"Example: Exotel Trunk","text":"<pre><code>curl -X POST \"http://localhost:8000/sip/create-outbound-trunk\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"trunk_name\": \"Exotel India\",\n           \"trunk_address\": \"sip.exotel.com\",\n           \"trunk_numbers\": [\"+911234567890\"],\n           \"trunk_auth_username\": \"your_exotel_sid\",\n           \"trunk_auth_password\": \"your_exotel_token\",\n           \"trunk_type\": \"exotel\"\n         }'\n</code></pre>"},{"location":"api/sip/#list-sip-trunks","title":"List SIP Trunks","text":"<p>List all active SIP trunks created by the current user.</p> <ul> <li>URL: <code>/sip/list</code></li> <li>Method: <code>GET</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> </ul>"},{"location":"api/sip/#response-schema_1","title":"Response Schema","text":"Field Type Description <code>success</code> boolean Indicates if the operation was successful. <code>message</code> string Human-readable success message. <code>data</code> array List of trunk objects. <code>data[].trunk_id</code> string Unique identifier for the trunk. <code>data[].trunk_name</code> string Name of the trunk. <code>data[].trunk_address</code> string SIP address/domain. <code>data[].trunk_numbers</code> array Associated phone numbers. <code>data[].trunk_type</code> string Provider type (<code>twilio</code> or <code>exotel</code>). <code>data[].trunk_created_at</code> string ISO 8601 timestamp of creation. <p>Security Note</p> <p>Authentication credentials (<code>trunk_auth_username</code> and <code>trunk_auth_password</code>) are not included in the list response for security reasons. Use the individual trunk details endpoint if needed.</p>"},{"location":"api/sip/#http-status-codes_1","title":"HTTP Status Codes","text":"Code Description 200 Success - Trunks retrieved successfully. 401 Unauthorized - Invalid or missing API key. 500 Server Error - Internal server error."},{"location":"api/sip/#example-request","title":"Example Request","text":"<pre><code>curl -X GET \"http://localhost:8000/sip/list\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"SIP trunks retrieved successfully\",\n  \"data\": [\n    {\n      \"trunk_id\": \"ST_a1b2c3d4e5f6...\",\n      \"trunk_name\": \"Twilio Production\",\n      \"trunk_address\": \"example.pstn.twilio.com\",\n      \"trunk_numbers\": [\"+15550100000\", \"+15550100001\"],\n      \"trunk_type\": \"twilio\",\n      \"trunk_created_at\": \"2024-01-15T10:00:00.000000\"\n    },\n    {\n      \"trunk_id\": \"ST_b2c3d4e5f6a7...\",\n      \"trunk_name\": \"Exotel India\",\n      \"trunk_address\": \"sip.exotel.com\",\n      \"trunk_numbers\": [\"+911234567890\"],\n      \"trunk_type\": \"exotel\",\n      \"trunk_created_at\": \"2024-01-15T11:00:00.000000\"\n    }\n  ]\n}\n</code></pre>"},{"location":"api/sip/#provider-setup-guides","title":"Provider Setup Guides","text":""},{"location":"api/sip/#twilio-setup","title":"Twilio Setup","text":"<ol> <li>Create a SIP Domain in Twilio Console:</li> <li>Go to Elastic SIP Trunking \u2192 SIP Trunks \u2192 Create new SIP Trunk</li> <li> <p>Note down the Termination SIP URI</p> </li> <li> <p>Configure Authentication:</p> </li> <li>Set Credential List for authentication</li> <li>Use your Account SID as username</li> <li> <p>Use Auth Token or API Key Secret as password</p> </li> <li> <p>Verify Caller IDs:</p> </li> <li>Add numbers to the trunk in E.164 format (+1555...)</li> <li> <p>Verify each number in Twilio</p> </li> <li> <p>Use in API:</p> </li> <li>Set <code>trunk_address</code> to your Termination SIP URI</li> <li>Set <code>trunk_type</code> to <code>\"twilio\"</code></li> </ol>"},{"location":"api/sip/#exotel-setup","title":"Exotel Setup","text":"<ol> <li>Get Credentials from Exotel Dashboard:</li> <li>SID (Account identifier)</li> <li> <p>Token (Authentication token)</p> </li> <li> <p>Configure Phone Numbers:</p> </li> <li>List all numbers to use for outbound calling</li> <li> <p>Ensure numbers are activated for outbound</p> </li> <li> <p>Use in API:</p> </li> <li>Set <code>trunk_address</code> to <code>\"sip.exotel.com\"</code></li> <li>Set <code>trunk_type</code> to <code>\"exotel\"</code></li> </ol>"},{"location":"api/sip/#next-steps","title":"Next Steps","text":"<p>After creating a SIP trunk:</p> <ol> <li>Note the <code>trunk_id</code> from the response</li> <li>Create an Assistant (if you haven't already)</li> <li>Trigger an outbound call using the trunk and assistant</li> </ol>"},{"location":"api/sip/#troubleshooting","title":"Troubleshooting","text":""},{"location":"api/sip/#common-issues","title":"Common Issues","text":"<p>Authentication Failed</p> <p>Error: Call fails with authentication error</p> <p>Solution:  - Verify Account SID and Auth Token are correct - Check that credentials are URL-encoded if they contain special characters - Ensure the SIP domain allows your IP address</p> <p>Invalid Number</p> <p>Error: Provider rejects the destination number</p> <p>Solution: - Ensure number is in E.164 format (+ followed by country code) - Check that the trunk supports the destination country - Verify number is not on a do-not-call list</p> <p>Trunk Not Found</p> <p>Error: <code>404</code> when using trunk ID</p> <p>Solution: - Verify you're using the full trunk ID (starts with <code>ST_</code>) - Ensure the trunk belongs to your user account - Check that the trunk hasn't been deleted</p>"},{"location":"api/tools/","title":"Tool Management","text":"<p>Tools allow your assistant to perform actions or fetch data during conversations. This section covers creating, updating, and managing tools.</p>"},{"location":"api/tools/#overview","title":"Overview","text":"<p>Tools are custom functions that extend your assistant's capabilities. When the LLM determines a tool should be called, the system executes it and returns the result to continue the conversation.</p>"},{"location":"api/tools/#execution-types","title":"Execution Types","text":"Type Description Use Case Webhook HTTP POST request to external URL Fetch live data (weather, stock prices, user info) Static Return Return a fixed value Provide constant information (support email, business hours)"},{"location":"api/tools/#create-tool","title":"Create Tool","text":"<p>Define a new tool that can be used by your assistants.</p> <ul> <li>URL: <code>/tool/create</code></li> <li>Method: <code>POST</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/tools/#request-body","title":"Request Body","text":"Field Type Required Description <code>tool_name</code> string Yes Snake_case name, e.g., <code>lookup_weather</code> (must match <code>^[a-z_][a-z0-9_]*$</code>). <code>tool_description</code> string Yes Description for the LLM explaining what the tool does (1-500 characters). <code>tool_parameters</code> array No List of parameters (see schema below). <code>tool_execution_type</code> string Yes <code>webhook</code> or <code>static_return</code>. <code>tool_execution_config</code> object Yes Configuration for execution (see examples below)."},{"location":"api/tools/#tool-parameter-schema","title":"Tool Parameter Schema","text":"Field Type Required Description <code>name</code> string Yes Parameter name. <code>type</code> string Yes Data type: <code>string</code>, <code>number</code>, <code>boolean</code>, <code>object</code>, or <code>array</code>. <code>description</code> string No Description for the LLM. <code>required</code> boolean No Whether the parameter is mandatory (default: <code>true</code>). <code>enum</code> array No Allowed values (only for string types)."},{"location":"api/tools/#execution-config-examples","title":"Execution Config Examples","text":"Webhook ToolStatic Return Tool <p>For tools that call external HTTP endpoints.</p> <p>Required Fields:</p> Field Type Description <code>url</code> string The webhook URL to POST to. <p>Optional Fields:</p> Field Type Description <code>timeout</code> number Request timeout in seconds (default: 10). <code>headers</code> object Additional HTTP headers. <p>Example:</p> <pre><code>{\n  \"tool_name\": \"lookup_weather\",\n  \"tool_description\": \"Get current weather information for a given location\",\n  \"tool_parameters\": [\n    {\n      \"name\": \"location\",\n      \"type\": \"string\",\n      \"description\": \"City and state, e.g. San Francisco, CA\",\n      \"required\": true\n    }\n  ],\n  \"tool_execution_type\": \"webhook\",\n  \"tool_execution_config\": {\n    \"url\": \"https://api.weather.com/v1/current\",\n    \"timeout\": 5,\n    \"headers\": {\n      \"Authorization\": \"Bearer weather_api_token\",\n      \"Content-Type\": \"application/json\"\n    }\n  }\n}\n</code></pre> <p>For tools that return a fixed value without external calls.</p> <p>Required Fields:</p> Field Type Description <code>value</code> any The static value to return (string, number, boolean, object, or array). <p>Example:</p> <pre><code>{\n  \"tool_name\": \"get_support_email\",\n  \"tool_description\": \"Get the customer support email address\",\n  \"tool_execution_type\": \"static_return\",\n  \"tool_execution_config\": {\n    \"value\": \"support@example.com\"\n  }\n}\n</code></pre> <p>Example with Object:</p> <pre><code>{\n  \"tool_name\": \"get_business_hours\",\n  \"tool_description\": \"Get the business operating hours\",\n  \"tool_execution_type\": \"static_return\",\n  \"tool_execution_config\": {\n    \"value\": {\n      \"monday\": \"9:00 AM - 6:00 PM\",\n      \"tuesday\": \"9:00 AM - 6:00 PM\",\n      \"wednesday\": \"9:00 AM - 6:00 PM\",\n      \"thursday\": \"9:00 AM - 6:00 PM\",\n      \"friday\": \"9:00 AM - 5:00 PM\",\n      \"saturday\": \"Closed\",\n      \"sunday\": \"Closed\"\n    }\n  }\n}\n</code></pre>"},{"location":"api/tools/#response-schema","title":"Response Schema","text":"Field Type Description <code>success</code> boolean Indicates if the operation was successful. <code>message</code> string Human-readable success message. <code>data</code> object Contains the created tool details. <code>data.tool_id</code> string Unique identifier for the tool (UUID). <code>data.tool_name</code> string The name of the tool."},{"location":"api/tools/#http-status-codes","title":"HTTP Status Codes","text":"Code Description 200 Success - Tool created successfully. 400 Bad Request - Invalid input data (invalid name format, missing fields). 401 Unauthorized - Invalid or missing API key. 500 Server Error - Internal server error."},{"location":"api/tools/#complete-example-weather-webhook-tool","title":"Complete Example: Weather Webhook Tool","text":"<pre><code>curl -X POST \"http://localhost:8000/tool/create\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"tool_name\": \"lookup_weather\",\n           \"tool_description\": \"Get current weather information for a given location\",\n           \"tool_parameters\": [\n             {\n               \"name\": \"location\",\n               \"type\": \"string\",\n               \"description\": \"City and state, e.g. San Francisco, CA\",\n               \"required\": true\n             }\n           ],\n           \"tool_execution_type\": \"webhook\",\n           \"tool_execution_config\": {\n             \"url\": \"https://api.weather.com/v1/current\",\n             \"timeout\": 5,\n             \"headers\": {\n               \"Authorization\": \"Bearer weather_api_token\"\n             }\n           }\n         }'\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"Tool created successfully\",\n  \"data\": {\n    \"tool_id\": \"880e8400-e29b-41d4-a716-446655449999\",\n    \"tool_name\": \"lookup_weather\"\n  }\n}\n</code></pre>"},{"location":"api/tools/#complete-example-static-return-tool","title":"Complete Example: Static Return Tool","text":"<pre><code>curl -X POST \"http://localhost:8000/tool/create\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"tool_name\": \"get_support_email\",\n           \"tool_description\": \"Get the customer support email address\",\n           \"tool_execution_type\": \"static_return\",\n           \"tool_execution_config\": {\n             \"value\": \"support@example.com\"\n           }\n         }'\n</code></pre>"},{"location":"api/tools/#list-tools","title":"List Tools","text":"<p>List all active tools created by the current user.</p> <ul> <li>URL: <code>/tool/list</code></li> <li>Method: <code>GET</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> </ul>"},{"location":"api/tools/#response-schema_1","title":"Response Schema","text":"Field Type Description <code>success</code> boolean Indicates if the operation was successful. <code>message</code> string Human-readable success message. <code>data</code> array List of tool objects. <code>data[].tool_id</code> string Unique identifier for the tool. <code>data[].tool_name</code> string The name of the tool. <code>data[].tool_description</code> string The description of the tool. <code>data[].tool_execution_type</code> string Either <code>webhook</code> or <code>static_return</code>. <code>data[].tool_created_at</code> string ISO 8601 timestamp of creation."},{"location":"api/tools/#http-status-codes_1","title":"HTTP Status Codes","text":"Code Description 200 Success - Tools retrieved successfully. 401 Unauthorized - Invalid or missing API key. 500 Server Error - Internal server error."},{"location":"api/tools/#example-request","title":"Example Request","text":"<pre><code>curl -X GET \"http://localhost:8000/tool/list\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"Tools retrieved successfully\",\n  \"data\": [\n    {\n      \"tool_id\": \"880e8400-e29b-41d4-a716-446655449999\",\n      \"tool_name\": \"lookup_weather\",\n      \"tool_description\": \"Get current weather information for a given location\",\n      \"tool_execution_type\": \"webhook\",\n      \"tool_created_at\": \"2024-01-15T10:00:00.000000\"\n    },\n    {\n      \"tool_id\": \"990e8400-e29b-41d4-a716-446655449888\",\n      \"tool_name\": \"get_support_email\",\n      \"tool_description\": \"Get the customer support email address\",\n      \"tool_execution_type\": \"static_return\",\n      \"tool_created_at\": \"2024-01-15T11:00:00.000000\"\n    }\n  ]\n}\n</code></pre>"},{"location":"api/tools/#get-tool-details","title":"Get Tool Details","text":"<p>Fetch details for a specific tool.</p> <ul> <li>URL: <code>/tool/details/{tool_id}</code></li> <li>Method: <code>GET</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> </ul>"},{"location":"api/tools/#path-parameters","title":"Path Parameters","text":"Parameter Type Description <code>tool_id</code> string The UUID of the tool."},{"location":"api/tools/#response-schema_2","title":"Response Schema","text":"Field Type Description <code>success</code> boolean Indicates if the operation was successful. <code>message</code> string Human-readable success message. <code>data</code> object Complete tool configuration. <code>data.tool_id</code> string Unique identifier for the tool. <code>data.tool_name</code> string The name of the tool. <code>data.tool_description</code> string The description of the tool. <code>data.tool_parameters</code> array List of parameter definitions. <code>data.tool_execution_type</code> string Either <code>webhook</code> or <code>static_return</code>. <code>data.tool_execution_config</code> object Execution configuration. <code>data.tool_created_at</code> string ISO 8601 timestamp of creation. <code>data.tool_updated_at</code> string ISO 8601 timestamp of last update."},{"location":"api/tools/#http-status-codes_2","title":"HTTP Status Codes","text":"Code Description 200 Success - Tool details retrieved. 401 Unauthorized - Invalid or missing API key. 404 Not Found - Tool does not exist or is inactive. 500 Server Error - Internal server error."},{"location":"api/tools/#example-request_1","title":"Example Request","text":"<pre><code>curl -X GET \"http://localhost:8000/tool/details/880e8400-e29b-41d4-a716-446655449999\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"Tool details retrieved successfully\",\n  \"data\": {\n    \"tool_id\": \"880e8400-e29b-41d4-a716-446655449999\",\n    \"tool_name\": \"lookup_weather\",\n    \"tool_description\": \"Get current weather information for a given location\",\n    \"tool_parameters\": [\n      {\n        \"name\": \"location\",\n        \"type\": \"string\",\n        \"description\": \"City and state, e.g. San Francisco, CA\",\n        \"required\": true\n      }\n    ],\n    \"tool_execution_type\": \"webhook\",\n    \"tool_execution_config\": {\n      \"url\": \"https://api.weather.com/v1/current\",\n      \"timeout\": 5,\n      \"headers\": {\n        \"Authorization\": \"Bearer weather_api_token\"\n      }\n    },\n    \"tool_created_at\": \"2024-01-15T10:00:00.000000\",\n    \"tool_updated_at\": \"2024-01-15T10:00:00.000000\"\n  }\n}\n</code></pre>"},{"location":"api/tools/#update-tool","title":"Update Tool","text":"<p>Update an existing tool's configuration.</p> <ul> <li>URL: <code>/tool/update/{tool_id}</code></li> <li>Method: <code>PATCH</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/tools/#path-parameters_1","title":"Path Parameters","text":"Parameter Type Description <code>tool_id</code> string The UUID of the tool to update."},{"location":"api/tools/#request-body_1","title":"Request Body","text":"<p>Only provide the fields you want to update. All fields are optional.</p> Field Type Description <code>tool_name</code> string The new name (must follow snake_case format). <code>tool_description</code> string The new description. <code>tool_parameters</code> array New parameter definitions (replaces all existing). <code>tool_execution_type</code> string New execution type (<code>webhook</code> or <code>static_return</code>). <code>tool_execution_config</code> object New execution configuration."},{"location":"api/tools/#response-schema_3","title":"Response Schema","text":"Field Type Description <code>success</code> boolean Indicates if the operation was successful. <code>message</code> string Human-readable success message. <code>data</code> object Contains the updated tool ID. <code>data.tool_id</code> string The ID of the updated tool."},{"location":"api/tools/#http-status-codes_3","title":"HTTP Status Codes","text":"Code Description 200 Success - Tool updated successfully. 400 Bad Request - Invalid input data or no fields provided. 401 Unauthorized - Invalid or missing API key. 404 Not Found - Tool does not exist. 500 Server Error - Internal server error."},{"location":"api/tools/#example-update-webhook-url","title":"Example: Update Webhook URL","text":"<pre><code>curl -X PATCH \"http://localhost:8000/tool/update/880e8400-e29b-41d4-a716-446655449999\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"tool_execution_config\": {\n             \"url\": \"https://api.new-weather.com/v1/current\",\n             \"timeout\": 10,\n             \"headers\": {\n               \"Authorization\": \"Bearer new_token\"\n             }\n           }\n         }'\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"Tool updated successfully\",\n  \"data\": {\n    \"tool_id\": \"880e8400-e29b-41d4-a716-446655449999\"\n  }\n}\n</code></pre>"},{"location":"api/tools/#delete-tool","title":"Delete Tool","text":"<p>Soft-delete a tool. This will also remove the tool from any assistants that are currently using it.</p> <ul> <li>URL: <code>/tool/delete/{tool_id}</code></li> <li>Method: <code>DELETE</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> </ul>"},{"location":"api/tools/#path-parameters_2","title":"Path Parameters","text":"Parameter Type Description <code>tool_id</code> string The UUID of the tool to delete."},{"location":"api/tools/#response-schema_4","title":"Response Schema","text":"Field Type Description <code>success</code> boolean Indicates if the operation was successful. <code>message</code> string Human-readable success message. <code>data</code> object Contains the deleted tool ID. <code>data.tool_id</code> string The ID of the deleted tool."},{"location":"api/tools/#http-status-codes_4","title":"HTTP Status Codes","text":"Code Description 200 Success - Tool deleted successfully. 401 Unauthorized - Invalid or missing API key. 404 Not Found - Tool does not exist or is already inactive. 500 Server Error - Internal server error."},{"location":"api/tools/#example-request_2","title":"Example Request","text":"<pre><code>curl -X DELETE \"http://localhost:8000/tool/delete/880e8400-e29b-41d4-a716-446655449999\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"Tool deleted successfully\",\n  \"data\": {\n    \"tool_id\": \"880e8400-e29b-41d4-a716-446655449999\"\n  }\n}\n</code></pre>"},{"location":"api/tools/#attach-tools-to-assistant","title":"Attach Tools to Assistant","text":"<p>Enable a set of tools for a specific assistant.</p> <ul> <li>URL: <code>/tool/attach/{assistant_id}</code></li> <li>Method: <code>POST</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/tools/#path-parameters_3","title":"Path Parameters","text":"Parameter Type Description <code>assistant_id</code> string The UUID of the assistant."},{"location":"api/tools/#request-body_2","title":"Request Body","text":"Field Type Required Description <code>tool_ids</code> array Yes List of tool IDs to attach (at least one required)."},{"location":"api/tools/#response-schema_5","title":"Response Schema","text":"Field Type Description <code>success</code> boolean Indicates if the operation was successful. <code>message</code> string Human-readable success message with count. <code>data</code> object Contains attachment details. <code>data.assistant_id</code> string The assistant ID. <code>data.tool_ids</code> array Updated list of all attached tool IDs."},{"location":"api/tools/#http-status-codes_5","title":"HTTP Status Codes","text":"Code Description 200 Success - Tools attached successfully. 400 Bad Request - Invalid input (empty tool_ids array). 401 Unauthorized - Invalid or missing API key. 404 Not Found - Assistant or one/more tools not found. 500 Server Error - Internal server error."},{"location":"api/tools/#example-request_3","title":"Example Request","text":"<pre><code>curl -X POST \"http://localhost:8000/tool/attach/550e8400-e29b-41d4-a716-446655440000\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"tool_ids\": [\"880e8400-e29b-41d4-a716-446655449999\"]\n         }'\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"Attached 1 tool(s) to assistant\",\n  \"data\": {\n    \"assistant_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n    \"tool_ids\": [\"880e8400-e29b-41d4-a716-446655449999\"]\n  }\n}\n</code></pre>"},{"location":"api/tools/#detach-tools-from-assistant","title":"Detach Tools from Assistant","text":"<p>Remove a set of tools from a specific assistant.</p> <ul> <li>URL: <code>/tool/detach/{assistant_id}</code></li> <li>Method: <code>POST</code></li> <li>Headers: <code>x-api-key: &lt;your_api_key&gt;</code></li> <li>Content-Type: <code>application/json</code></li> </ul>"},{"location":"api/tools/#path-parameters_4","title":"Path Parameters","text":"Parameter Type Description <code>assistant_id</code> string The UUID of the assistant."},{"location":"api/tools/#request-body_3","title":"Request Body","text":"Field Type Required Description <code>tool_ids</code> array Yes List of tool IDs to detach (at least one required)."},{"location":"api/tools/#response-schema_6","title":"Response Schema","text":"Field Type Description <code>success</code> boolean Indicates if the operation was successful. <code>message</code> string Human-readable success message. <code>data</code> object Contains detachment details. <code>data.assistant_id</code> string The assistant ID. <code>data.tool_ids</code> array Updated list of remaining attached tool IDs."},{"location":"api/tools/#http-status-codes_6","title":"HTTP Status Codes","text":"Code Description 200 Success - Tools detached successfully. 400 Bad Request - Invalid input (empty tool_ids array). 401 Unauthorized - Invalid or missing API key. 404 Not Found - Assistant not found. 500 Server Error - Internal server error."},{"location":"api/tools/#example-request_4","title":"Example Request","text":"<pre><code>curl -X POST \"http://localhost:8000/tool/detach/550e8400-e29b-41d4-a716-446655440000\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"x-api-key: &lt;your_api_key&gt;\" \\\n     -d '{\n           \"tool_ids\": [\"880e8400-e29b-41d4-a716-446655449999\"]\n         }'\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"Detached tool(s) from assistant\",\n  \"data\": {\n    \"assistant_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n    \"tool_ids\": []\n  }\n}\n</code></pre>"},{"location":"api/tools/#webhook-payload-format","title":"Webhook Payload Format","text":"<p>When a tool with <code>webhook</code> execution type is called, the system sends the following payload to your webhook URL:</p>"},{"location":"api/tools/#request-to-webhook","title":"Request to Webhook","text":"<pre><code>POST /your-webhook-endpoint HTTP/1.1\nContent-Type: application/json\nAuthorization: Bearer &lt;token&gt; (if specified in headers)\n\n{\n  \"assistant_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"room_name\": \"call-room-123\",\n  \"tool_name\": \"lookup_weather\",\n  \"parameters\": {\n    \"location\": \"San Francisco, CA\"\n  },\n  \"metadata\": {\n    \"customer_id\": \"12345\"\n  }\n}\n</code></pre>"},{"location":"api/tools/#expected-response","title":"Expected Response","text":"<p>Your webhook should return a JSON response:</p> <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"temperature\": 72,\n    \"condition\": \"Sunny\",\n    \"location\": \"San Francisco, CA\"\n  }\n}\n</code></pre> <p>Or for errors:</p> <pre><code>{\n  \"success\": false,\n  \"error\": \"Location not found\"\n}\n</code></pre> <p>Best Practices</p> <ul> <li>Idempotency: Webhook calls may be retried on timeout. Ensure your endpoint handles duplicate calls gracefully.</li> <li>Timeouts: Default timeout is 10 seconds. Design your webhooks to respond quickly.</li> <li>Authentication: Use the <code>headers</code> field in <code>tool_execution_config</code> to pass API keys securely.</li> <li>Error Handling: Always return a valid JSON response, even on errors.</li> </ul>"},{"location":"api/tools/#tool-design-guidelines","title":"Tool Design Guidelines","text":""},{"location":"api/tools/#writing-good-tool-descriptions","title":"Writing Good Tool Descriptions","text":"<p>The <code>tool_description</code> is crucial - it's what the LLM uses to decide when to call your tool:</p> <p>Good Examples</p> <pre><code>{\n  \"tool_description\": \"Get the current stock price for a given ticker symbol. Use this when the user asks about stock prices, investments, or financial data.\"\n}\n</code></pre> <pre><code>{\n  \"tool_description\": \"Schedule an appointment for the user. Only use this when the user explicitly asks to book, schedule, or make an appointment.\"\n}\n</code></pre> <p>Bad Examples</p> <pre><code>{\n  \"tool_description\": \"Weather tool\"\n}\n</code></pre> <pre><code>{\n  \"tool_description\": \"This function gets weather data from our API and returns it in JSON format\"\n}\n</code></pre>"},{"location":"api/tools/#parameter-design","title":"Parameter Design","text":"<ul> <li>Be specific with parameter descriptions</li> <li>Use enums when there are limited valid values</li> <li>Set required appropriately - only mark truly required fields as required</li> <li>Choose the right type - use <code>number</code> for numeric values, not strings</li> </ul>"},{"location":"api/tools/#execution-type-selection","title":"Execution Type Selection","text":"Use Webhook When Use Static Return When Data changes frequently Information never changes External API integration needed No external dependencies User-specific data required Same response for all users Complex business logic Simple constant values"}]}